<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>ECE AST - Best Practices</title>

		<meta name="description" content="ECE NodeJS lesson on Node Best Practices">
		<meta name="author" content="César Berezowski">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="../reveal.js/css/reveal.css">
		<link rel="stylesheet" href="../reveal.js/css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../reveal.js/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../reveal.js/css/print/pdf.css' : '../reveal.js/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div style="position:absolute; top:20px; left:20px;">
		<p><img src="../img/adaltas.png" width="200px" style="margin: 10px 0" /></p>
		</div>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Best Practices</h1>
					<h4>Asynchronous Server Technologies</h4>
					<p>
            Sergei Kudinov<br/>
            <i>Web Developer @ Adaltas</i><br/>
            <i>sergei@adaltas.com</i>
          </p>
				</section>

        <section data-markdown>
          ## Recap

          * Tools & concepts for web development
            * Terminal & Vim
            * Client / sever concepts
            * IP/HTTP protocol & security + SSH
            * Git & Github
            * ...
          * What’s JS, NodeJS & NPM ?
          * What’s a package ? How is it made ?
          * First script & module
        </section>

        <section data-markdown>
          ## Your project

          * Basic project on github :

          ```shell
          myproject/
          |-- .gitignore
          |-- package.json
          |-- readme.md
          +-- src/
              |-- app.js
              +-- users.js
          ```
        </section>

        <section data-markdown>
          ## Final project

          * Based on code from class

          * Simple dashboard app :
            * User login
            * A user can insert metrics
            * A user can retrieve his metrics in a graph
            * A user can only access his own metrics
          * See [PROJECT.md](https://github.com/adaltas/ece-nodejs/blob/2019/PROJECT.md)
        </section>

        <section data-markdown>
          ## Questions ?
        </section>

        <section data-markdown>
          ## Tools & processes
        </section>

        <section data-markdown>
          ## Travis CI

          * Continuous integration tools
          * Integrated with GitHub
          * `.travis.yml` file defines environment and parameters
          * [travis-ci.org](http://travis-ci.org)
          * [Get started: docs.travis-ci.com/user/getting-started/](http://docs.travis-ci.com/user/getting-started/)
        </section>

        <section data-markdown>
          ## StackOverflow & mailing lists

          * Huge data source
          * Reactive community
          * Any subject
          * Lots of answered questions (> 1M !)
          * Don’t forget the source code !
        </section>

        <section data-markdown>
          ## Packages best practices
        </section>

        <section data-markdown>
          ## Libraries

          * Add using NPM / package.json
          * Specify version
          * Install locally / globally

          ```shell
          npm i[nstall] [--save] [--save-dev] [-g] package_names
          ```

          * Installation location: node_modules
        </section>
        
        <section data-markdown>
          ## Deterministic Installs: lock file

          * `package-lock.json` for NPM 
          * `yarn.lock` for yarn
          * Fixes dependency versions
          * Avoids the "but it works on my computer!" situation
        </section>

        <section data-markdown>
          ## Tests

          * Two tools
            * [Mocha](http://mochajs.org/) - run tests and organize them with ‘describe’ and ‘it’
            * [Should](http://shouldjs.github.io/) - assertions like ‘my_int.should.equal(0)’
          * In `test/user.js`:

          ```js
          var should = require('should');
          describe('my test series', function() {
            it('should do smth', function(done){...})
            it('should do smth else', function(done){...})
          })
          ```

          ```shell
          ./node_modules/.bin/mocha test/user.js`
          ```
        </section>

        <section data-markdown>
          ## Scripts

          Simplify running commands

          ```shell
          # in ./bin/test
          ./node_modules/mocha/bin/mocha test/*
          ```

          Prepare multiple commands

          ```shell
          bin/test: ./node_modules/.bin/mocha test
          bin/start: node src/index.js
          bin/mycommand ...
          ```

          `chmod +x bin/*` to make them executable
        </section>

        <section data-markdown>
          ## Others

          * `package.json`
          * `readme.md`
          * `.gitignore`
          * examples
          * comments (intelligently, when necessary !)
          * organize your code !
        </section>

        <section data-markdown>
          ## Questions ?
        </section>

        <section data-markdown>
            ## Node Package Managememnt
          </section>
  
          <section data-markdown>
            ## NPM 
  
            * Package manager for Node.JS
            * Developed by Isaac Z. Schlueter
            * Upload, share & download packages
            * Two modes: global & local
            * Modules: system I/O, networking, cryptography, framework, …
            * [npmjs.com](http://npmjs.com)
          </section>
          
          <section data-markdown>
            ## yarn
            
            * Alternative package manager for Node.JS
            * Developed & open-sourced by Facebook
            * Introduced novelties recuperated by NPM v4 & 5
            * Equivalent nowadays
          </section>

				<section data-markdown>
					## Module declaration: `package.json`

					* Create a folder and add a 'package.json' file
					* Add 'name', 'description' and 'version' fields
					* Add the 'dependencies' and 'devDependencies'

					[package.json doc](https://docs.npmjs.com/files/package.json)
        </section>

				<section data-markdown>
					## Module informations: `readme.md`

					* Written in Markdown
					* Should contain :
						* Short introduction
						* Installation instructions and how to run the tests
						* Usage instruction with simple (and advanced) examples
						* Note and migration instructions
						* List of contributors

					[Markdown doc](https://daringfireball.net/projects/markdown/syntax)
				</section>

				<section data-markdown>
					## Questions ?
				</section>

        <section data-markdown>
          ## Practice !
        </section>

        <section data-markdown>
          ## Using last week’s code

          * Put your JS code in a `lib/` directory
          * Add a .gitignore: ignore the `node_modules` directory
          * Add a start script in a `bin/` directory
          * Write tests on the get / set user urls in a `test/` directory
          * Add a `test` script
          * Add a `.travis.yml` file and plug Travis CI to your git
        </section>

			</div>
		</div>

		<script src="../reveal.js/lib/js/head.min.js"></script>
		<script src="../reveal.js/js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: '../reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: '../reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: '../reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: '../reveal.js/plugin/zoom-js/zoom.js', async: true },
					{ src: '../reveal.js/plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
